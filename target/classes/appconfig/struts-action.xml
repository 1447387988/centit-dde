<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE struts PUBLIC "-//Apache Software Foundation//DTD Struts Configuration 2.0//EN"
        "http://struts.apache.org/dtds/struts-2.0.dtd">
<struts>
    <package name="app" namespace="/app" extends="centitbsdfw">
        <action name="dashboard" class="dashboardAction">
            <result name="dashboard">/page/app/dashboard.jsp</result>
            <result name="detail">/page/app/cityDetail.jsp</result>
        </action>


        <action name="innermsg" class="innermsgAction">
            <result name="list">/page/app/innermsgList.jsp</result>
            <result name="view">/page/app/innermsgView.jsp</result>
            <result name="viewMail">/page/app/innermsgViewMail.jsp</result>
            <result name="edit">/page/app/innermsgForm.jsp</result>
            <result name="add">/page/app/innermsgAdd.jsp</result>
            <result name="listMailAccount">/page/app/innermsgMailAccountList.jsp</result>
            <!-- <result name="listMailBox">/page/app/innermsgMailBoxList.jsp</result> -->
            <result name="addMail">/page/app/innermsgAddMail.jsp</result>


            <result name="innermsgTree">/page/app/innermsgAddTree.jsp</result>

            <result name="saveMsg" type="centitui">
                <param name="newWin">false</param>
                <param name="callbackType">closeCurrent</param>
                <param name="navTabId">external_MSG_O</param>
            </result>

            <result name="saveSendMail" type="centitui">
                <param name="newWin">false</param>
                <param name="callbackType">closeCurrent</param>
                <!-- <param name="navTabId">external_EMAIL</param> -->
                <!-- <param name="forwardUrl">/app/innermsg!listMailBox.do</param> -->
            </result>
            <result name="saveReceiveMail" type="centitui">
                <param name="newWin">false</param>
                <!-- <param name="callbackType">closeCurrent</param> -->
                <!-- <param name="navTabId">external_EMAIL</param> -->
                <!-- <param name="forwardUrl">/app/innermsg!listMailBox.do</param> -->
            </result>

            <result name="modifyMailBox" type="centitui">
                <param name="newWin">false</param>
            </result>

            <result name="deleteMsg" type="centitui">
                <param name="newWin">false</param>
            </result>
        </action>


        <action name="innermsgRecipient" class="innermsgRecipientAction">
            <result name="list">/page/app/innermsgRecipientList.jsp</result>
            <result name="view">/page/app/innermsgRecipientView.jsp</result>
            <result name="edit">/page/app/innermsgRecipientForm.jsp</result>
            <result name="recipient">/page/app/innermsgRecipientAdd.jsp</result>

            <result name="saveMsg" type="centitui">
                <param name="newWin">false</param>
                <param name="callbackType">closeCurrent</param>
                <param name="navTabId">external_MSG</param>
            </result>

        </action>

        <action name="userMailConfig" class="userMailConfigAction">
            <result name="list">/page/app/userMailConfigList.jsp</result>
            <result name="view">/page/app/userMailConfigView.jsp</result>
            <result name="edit">/page/app/userMailConfigForm.jsp</result>


            <result name="saveConfig" type="centitui">
                <param name="newWin">false</param>
                <param name="callbackType">closeCurrent</param>
                <param name="navTabId">external_UMC</param>
            </result>

            <result name="delete" type="centitui">
                <param name="newWin">false</param>
            </result>
            <result name="error" type="centitui">
                <param name="newWin">false</param>
            </result>
        </action>

        <action name="fileinfo" class="fileAction">
            <result name="upload">/page/app/PFileinfoForm.jsp</result>

            <result name="files" type="json">
                <param name="contentType">text/html</param>
                <param name="root">dataMap</param>
            </result>

            <result name="download" type="stream">
                <param name="contentType">application/octet-stream;charset=ISO8859-1</param>
                <param name="inputName">inputStream</param>
                <param name="contentDisposition">attachment;filename="${fullname}"</param>
                <param name="bufferSize">4096</param>
            </result>
        </action>

        <action name="publicinfo" class="publicinfoAction">
            <result name="list">
                /page/app/publicinfo/publicinfo.jsp
            </result>

            <result name="files" type="json">
                <param name="contentType">text/html</param>
                <param name="root">dataMap</param>
                <param name="excludeNullProperties">false</param>
                <param name="excludeProperties">
                    files.parentinfocode,files.filecode
                </param>
            </result>
        </action>

        <action name="searcher" class="searcherAction">
            <result name="search">/page/app/searcher.jsp</result>
        </action>

        <action name="calendar" class="calendarAction">
            <result name="calendar">/page/app/calendar.jsp</result>
            <result name="save" type="json">
                <param name="contentType">text/html</param>
                <param name="root">result</param>
            </result>
            <result name="jsonArray" type="json">
                <param name="contentType">text/html</param>
                <param name="root">result</param>
            </result>
        </action>

        <action name="*" class="{1}Action">
            <result name="payView">/page/app/reimbursePayView.jsp</result>
            <result name="auditing">/page/app/reimburseauditingForm.jsp</result>
            <result name="list">/page/app/{1}List.jsp</result>
            <result name="view">/page/app/{1}View.jsp</result>
            <result name="edit">/page/app/{1}Form.jsp</result>
            <result name="built" type="chain">
                <param name="actionName">{1}</param>
                <param name="method">edit</param>
            </result>
            <result name="success" type="chain">
                <param name="actionName">{1}</param>
                <param name="method">list</param>
            </result>
            <result name="listUserTasks" type="redirectAction">
                <param name="namespace">/sampleflow</param>
                <param name="actionName">sampleFlowManager</param>
                <param name="method">listUserTasks</param>
            </result>
            <result name="nextstep" type="redirectAction">
                <param name="namespace">/sampleflow</param>
                <param name="actionName">sampleFlowManager</param>
                <param name="method">nextStep</param>
                <param name="flowInstId">${object.wfinstid}</param>
            </result>
        </action>
    </package>
</struts>