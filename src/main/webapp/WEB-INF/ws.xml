<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xmlns:jaxws="http://cxf.apache.org/jaxws"
       xsi:schemaLocation="
	http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans.xsd
	http://cxf.apache.org/jaxws http://cxf.apache.org/schemas/jaxws.xsd">

    <import resource="classpath:META-INF/cxf/cxf.xml"/>

	<bean id="validatorWs" class="com.centit.dde.ws.ValidatorWsImpl">
        <property name="userDataOptIdManager" ref="userDataOptIdManager" />
        <property name="sysUserManager" ref="sysUserManager" />
        <property name="sysUnitManager" ref="sysUnitManager" />
    </bean>
    
    <bean name="uploadDataBean" class="com.centit.dde.ws.UploadDataImpl">
        <property name="executeDataMap" ref="executeDataMap"/>
        <property name="taskLogManager" ref="taskLogManager"/>
        <property name="validatorWs" ref="validatorWs" />
    </bean>

    <bean name="downloadDataBean" class="com.centit.dde.ws.DownloadDataImpl">
        <property name="sysUserManager" ref="sysUserManager" />
        <property name="exportData" ref="exportData" />
        <property name="exportSqlDao" ref="exportSqlDao" />
        <property name="validatorWs" ref="validatorWs" />
    </bean>

    <bean name="taskCallerBean" class="com.centit.dde.ws.TaskCallerImpl">
		<property name="exchangeTaskManager" ref="exchangeTaskManager"/>
        <property name="validatorWs" ref="validatorWs" />
    </bean>

    <jaxws:endpoint id="uploadData" serviceName="uploadData" implementor="#uploadDataBean" address="/uploadData" >
    </jaxws:endpoint>
    
    <jaxws:endpoint id="downloadData" serviceName="downloadData" implementor="#downloadDataBean" address="/downloadData" >
    </jaxws:endpoint>
    
    <jaxws:endpoint id="taskCaller" serviceName="taskCaller" implementor="#taskCallerBean" address="/taskCaller" >
    </jaxws:endpoint>

</beans>
